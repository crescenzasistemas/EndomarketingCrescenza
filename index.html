<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Diagnóstico de Endomarketing | Crescenza</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- FONTES -->
<link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;600;700&family=Playfair+Display:wght@600;800&display=swap" rel="stylesheet">

<!-- ÍCONES -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<!-- CHART.JS -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<!-- JSPDF -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
:root{
--brand:#e65100;
--navy:#0f172a;
--bg:#f8fafc;
--text:#334155;
--white:#ffffff;
}

body{
font-family:'Manrope',sans-serif;
background:var(--bg);
color:var(--text);
margin:0;
}

.container{
max-width:900px;
margin:auto;
background:#fff;
box-shadow:0 0 40px rgba(0,0,0,.05);
}

header{
background:linear-gradient(135deg,var(--navy),#1e293b);
color:#fff;
padding:70px 40px;
text-align:center;
}

header h1{
font-family:'Playfair Display',serif;
font-size:3rem;
margin-bottom:15px;
}

section{
padding:50px 40px;
}

.pillar{
margin-bottom:30px;
}

.pillar label{
font-weight:700;
display:block;
margin-bottom:10px;
}

input[type=range]{
width:100%;
}

.score{
text-align:right;
font-weight:700;
color:var(--brand);
}

button{
width:100%;
padding:18px;
border:none;
background:var(--brand);
color:#fff;
font-size:1.1rem;
font-weight:700;
cursor:pointer;
border-radius:6px;
}

#result{
display:none;
background:var(--navy);
color:#fff;
}

.result-box{
background:rgba(255,255,255,.05);
padding:30px;
border-left:4px solid var(--brand);
margin:30px 0;
}

canvas{
max-width:100%;
margin:40px auto;
}

.btn-pdf{
margin-top:20px;
background:#fff;
color:var(--navy);
}
</style>
</head>

<body>

<div class="container">

<header>
<h1>Diagnóstico de Endomarketing</h1>
<p>Avaliação estratégica da maturidade cultural da sua empresa</p>
</header>

<section>
<div class="pillar">
<label>1. Comunicação com Propósito</label>
<input type="range" min="0" max="10" value="0" oninput="this.nextElementSibling.innerText=this.value">
<div class="score">0</div>
</div>

<div class="pillar">
<label>2. Clima & Engajamento</label>
<input type="range" min="0" max="10" value="0" oninput="this.nextElementSibling.innerText=this.value">
<div class="score">0</div>
</div>

<div class="pillar">
<label>3. Onboarding Humanizado</label>
<input type="range" min="0" max="10" value="0" oninput="this.nextElementSibling.innerText=this.value">
<div class="score">0</div>
</div>

<div class="pillar">
<label>4. Reconhecimento & Valorização</label>
<input type="range" min="0" max="10" value="0" oninput="this.nextElementSibling.innerText=this.value">
<div class="score">0</div>
</div>

<div class="pillar">
<label>5. Treinamento & Desenvolvimento</label>
<input type="range" min="0" max="10" value="0" oninput="this.nextElementSibling.innerText=this.value">
<div class="score">0</div>
</div>

<div class="pillar">
<label>6. Saúde & Bem-Estar</label>
<input type="range" min="0" max="10" value="0" oninput="this.nextElementSibling.innerText=this.value">
<div class="score">0</div>
</div>

<button onclick="gerarResultado()">GERAR DIAGNÓSTICO</button>
</section>

<section id="result">
<h2 style="text-align:center;">Resultado Executivo</h2>

<h1 id="percentual" style="text-align:center;font-size:3rem;"></h1>

<div class="result-box" id="leitura"></div>

<canvas id="radarChart"></canvas>

<button class="btn-pdf" onclick="gerarPDF()">GERAR PDF EXECUTIVO</button>
</section>

</div>

<script>
let radar;

function gerarResultado(){
const sliders=document.querySelectorAll('input[type=range]');
const pesos=[0.20,0.20,0.15,0.15,0.15,0.15];
let total=0;
let valores=[];

sliders.forEach((s,i)=>{
const nota=parseInt(s.value);
valores.push(nota);
total+=(nota/10)*pesos[i]*100;
});

const percent=Math.round(total);
document.getElementById('percentual').innerText=percent+"%";
document.getElementById('result').style.display="block";

let leitura="";
if(percent<45){
leitura=`<h3>Maturidade Crítica</h3>
<p>A cultura não sustenta engajamento. O risco de turnover é elevado e a comunicação é reativa.</p>
<p><strong>Plano indicado:</strong> Crescenza 90°</p>`;
}else if(percent<75){
leitura=`<h3>Maturidade em Desenvolvimento</h3>
<p>Existem boas práticas, mas ainda sem consistência cultural e rotina estruturada.</p>
<p><strong>Plano indicado:</strong> Crescenza 180°</p>`;
}else{
leitura=`<h3>Alta Maturidade Cultural</h3>
<p>A empresa possui cultura viva, engajamento e base sólida para employer branding.</p>
<p><strong>Plano indicado:</strong> Crescenza 360°</p>`;
}

document.getElementById('leitura').innerHTML=leitura;
gerarRadar(valores);
}

function gerarRadar(valores){
const ctx=document.getElementById('radarChart');
if(radar) radar.destroy();

radar=new Chart(ctx,{
type:'radar',
data:{
labels:[
'Comunicação',
'Clima',
'Onboarding',
'Reconhecimento',
'T&D',
'Bem-estar'
],
datasets:[{
label:'Maturidade',
data:valores,
backgroundColor:'rgba(230,81,0,.2)',
borderColor:'#e65100',
borderWidth:2
}]
},
options:{
scales:{
r:{
min:0,
max:10,
ticks:{stepSize:2}
}
}
});
}

function gerarPDF(){
const { jsPDF } = window.jspdf;
const doc=new jsPDF();

doc.setFontSize(18);
doc.text("Diagnóstico de Endomarketing – Crescenza",10,20);

doc.setFontSize(14);
doc.text("Resultado Geral:",10,40);
doc.text(document.getElementById('percentual').innerText,10,50);

doc.setFontSize(12);
doc.text("Leitura Executiva:",10,70);

const texto=document.getElementById('leitura').innerText;
doc.text(texto,10,80,{maxWidth:180});

doc.save("Diagnostico_Endomarketing_Crescenza.pdf");
}
</script>

</body>
</html>
